<!--
  Generated template for the Complete page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>

	<ion-navbar no-border-bottom>
		<ion-title>ContraTempo</ion-title>
		<ion-buttons end showWhen="ios">
			<button ion-button (click)="addTask()">
        <ion-icon name="add-circle"></ion-icon>
      </button>
		</ion-buttons>

	</ion-navbar>



	<ion-toolbar no-border-top>
		<ion-segment [(ngModel)]="taskType" (ngModelChange)="onChange($event)">
			<ion-segment-button value="upcoming">
				Próximos
			</ion-segment-button>
			<ion-segment-button value="complete">
				Concluídos
			</ion-segment-button>
		</ion-segment>
	</ion-toolbar>
</ion-header>

<ion-content>



	<ion-list>
		  <ion-item *ngFor="let task of tasksList, let i = index">

		<ion-row no-padding [ngSwitch]="taskType">

			<button item-left ion-button [color]="task.tag.color" outline disabled>  {{task.tag.name}} </button>


			<ion-col text-left>

				<h2> {{task.name}}</h2>
				<p> {{task.subject}} </p>

			</ion-col>

			<ion-col text-wrap text-center *ngSwitchCase="'upcoming'">

				<h1 *ngIf="task.date.days != null"> {{task.date.days}} </h1>
				<h1 *ngIf="task.date.hours != null"> {{task.date.hours}}:{{("0" + task.date.minutes).slice(-2)}} </h1>
				<h1 *ngIf="task.date.seconds != null" style="color: red"> {{task.date.minutes}}:{{("0" + task.date.seconds).slice(-2)}} </h1>
				<h3> {{task.date.type}} </h3>

				<p> {{task.timestamp}} </p>
			</ion-col>

			<ion-col text-wrap text-center *ngSwitchCase="'complete'">

				<h3> Concluido à </h3>
				<h1> {{task.date.days}} </h1>
				<h3> {{task.date.type}} atrás </h3>

				<p> {{task.timestamp}} </p>
			</ion-col>

		</ion-row>

		</ion-item>

	</ion-list>

	<ion-fab center bottom showWhen="android" (click)="addTask()">
		<button ion-fab><ion-icon name="add"></ion-icon></button>

	</ion-fab>



</ion-content>